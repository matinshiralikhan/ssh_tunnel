# Auto-Discovery ูุงุจูุช ุดูุงุณุง ู ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ

## ๐ ูุนุฑู

ูุงุจูุช **Auto-Discovery** ุงูฺฉุงู ุดูุงุณุง ุฎูุฏฺฉุงุฑ ู ุฑุงูโุงูุฏุงุฒ ูพุฑูุชฺฉูโูุง ูุฎุชูู ุชููู ุจุฑ ุฑู ฺฉ ุณุฑูุฑ SSH ุฑุง ูุฑุงูู ูโฺฉูุฏ. ุจุง ุงุฑุงุฆู ุงุทูุงุนุงุช ุงููู ฺฉ ุณุฑูุฑ (IPุ usernameุ password)ุ ุณุณุชู ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ:

- ูุงุจูุชโูุง ุณุฑูุฑ ุฑุง ุดูุงุณุง ูโฺฉูุฏ
- ูพุฑูุชฺฉูโูุง ูพุดุชุจุงู ุดุฏู ุฑุง ุชุดุฎุต ูโุฏูุฏ  
- ุจู ุทูุฑ ุงุฎุชุงุฑ ูพุฑูุชฺฉูโูุง ุฑุง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ
- ูุงูโูุง ฺฉุงููฺฏ ฺฉูุงูุช ุจุฑุง ุชูุงู ูพุฑูุชฺฉูโูุง ุชููุฏ ูโฺฉูุฏ

## ๐ ููุฑุณุช ูพุฑูุชฺฉูโูุง ูพุดุชุจุงู ุดุฏู

### โ ูพุฑูุชฺฉูโูุง ฺฉู ุฎูุฏฺฉุงุฑ ุฑุงูโุงูุฏุงุฒ ูโุดููุฏ:

1. **SSH Tunnel** - ุชููู SSH ุงุณุชุงูุฏุงุฑุฏ ุจุง SOCKS5/HTTP proxy
2. **V2Ray/VMess** - ูพุฑูุชฺฉู VMess ุจุง WebSocket transport  
3. **VLESS** - ูพุฑูุชฺฉู VLESS ูุฏุฑู ู ุจููู
4. **Trojan** - ูพุฑูุชฺฉู Trojan ุจุง ูพูุดุด TLS
5. **Hysteria** - ูพุฑูุชฺฉู UDP ุณุฑุน ุจุง obfuscation
6. **WireGuard** - VPN ูุฏุฑู ุจุง ฺฉุงุฑุง ุจุงูุง
7. **HTTP Proxy** - ูพุฑูฺฉุณ HTTP ุณุงุฏู
8. **SOCKS5 Proxy** - ูพุฑูฺฉุณ SOCKS5 ุจุง DNS tunneling
9. **ICMP Tunnel** - ุชููู ICMP ุจุฑุง bypassing ุฎุงุต

## ๐๏ธ ูุญูู ุงุณุชูุงุฏู

### 1. ุดูุงุณุง ุณุงุฏู ุณุฑูุฑ (ุจุฏูู ูุตุจ):

```bash
./ssh-tunnel-manager -autodiscover -host 1.2.3.4 -user root -password mypassword
```

### 2. ุดูุงุณุง ุจุง SSH Key:

```bash  
./ssh-tunnel-manager -autodiscover -host 1.2.3.4 -user root -key ~/.ssh/id_rsa
```

### 3. ุดูุงุณุง + ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ูพุฑูุชฺฉูโูุง:

```bash
./ssh-tunnel-manager -autodiscover -host 1.2.3.4 -user root -password mypass -setup
```

### 4. ุชุนู ุฏุงุฑฺฉุชูุฑ ุฎุฑูุฌ ุณูุงุฑุด:

```bash
./ssh-tunnel-manager -autodiscover -host 1.2.3.4 -user root -password mypass -output /my/configs
```

### 5. ฺฉุงูุจู ฺฉุงูู (ุดูุงุณุง + ุฑุงูโุงูุฏุงุฒ + ฺฉุงููฺฏ):

```bash
./ssh-tunnel-manager -autodiscover \
  -host 1.2.3.4 \
  -user root \
  -password mypassword \
  -setup \
  -output client-configs
```

## ๐ ููููู ุฎุฑูุฌ

```
๐ Starting Auto-Discovery Process...
Target: root@1.2.3.4:22
Output Directory: client-configs

๐ก Discovering server capabilities...

๐ฅ๏ธ  Server Information:
   Host: 1.2.3.4
   OS: Linux
   Architecture: x86_64
   Available Ports: [8080, 8081, 8082, 8083, 8084]
   Installed Software: [docker, nginx, iptables]
   Supported Protocols: [ssh, v2ray, vless, vmess, trojan, hysteria, wireguard, http_proxy, socks5_proxy]

โ๏ธ  Setting up protocols on server...
โ Protocol setup completed!

๐ Generating client configuration files...
๐ง Generating SSH Tunnel Manager configuration...

๐ Auto-Discovery Completed Successfully!

๐ Generated Files:
   ๐ Output Directory: client-configs/
   ๐ Configuration Files:
      โข ssh_tunnel.conf
      โข v2ray_client.conf
      โข vless_client.conf
      โข vmess_client.conf
      โข trojan_client.conf
      โข wireguard.conf
      โข hysteria.conf
      โข http_proxy.conf
      โข socks5_proxy.conf
      โข combined_config.yaml
      โข ssh-tunnel-manager-config.yaml

๐ Quick Start:
   1. Use SSH Tunnel Manager: ./ssh-tunnel-manager -config client-configs/ssh-tunnel-manager-config.yaml
   2. Or use individual clients with their respective config files

๐ Available Proxy URLs:
   SSH Proxy: socks5://127.0.0.1:8080
   HTTP Proxy: socks5://127.0.0.1:8081
   SOCKS5 Proxy: socks5://127.0.0.1:8082

๐ก Tips:
   โข Edit the generated configs to customize settings
   โข Use -setup flag to automatically install protocols on server
   โข Check server firewall settings if connections fail
   โข Run with -server flag to enable web management interface
```

## ๐ ูุงูโูุง ุชููุฏ ุดุฏู

### 1. **ssh-tunnel-manager-config.yaml**
ฺฉุงููฺฏ ุงุตู SSH Tunnel Manager ุจุฑุง ุงุณุชูุงุฏู ูุณุชูู:

```yaml
version: "1.0"
servers:
  - name: "auto-ssh-1.2.3.4"
    host: "1.2.3.4"
    port: "22"
    user: "root"
    password: "mypassword"
    transport: "ssh"
    proxy: "socks5"
    local_port: 8080
    enabled: true
auto_select: true
api:
  enabled: true
  port: 8888
```

### 2. **vless_client.conf**
ฺฉุงููฺฏ VLESS ุจุฑุง ฺฉูุงูุชโูุง ูุซู V2rayN:

```
# VLESS Configuration
vless://12345678-1234-1234-1234-123456789abc@1.2.3.4:8081?type=tcp&security=none#AutoGenerated-VLESS

# For V2rayN/V2rayNG:
# 1. Copy the above URL
# 2. Import via QR code or URL
# 3. Connect and enjoy!
```

### 3. **trojan_client.conf**
ฺฉุงููฺฏ ฺฉุงูู Trojan:

```json
{
  "run_type": "client",
  "local_addr": "127.0.0.1", 
  "local_port": 1080,
  "remote_addr": "1.2.3.4",
  "remote_port": 8082,
  "password": ["auto-generated-password-123"]
}
```

### 4. **ssh_tunnel.conf**
ฺฉุงููฺฏ SSH Tunnel ฺฉูุงุณฺฉ:

```
# SSH Tunnel Configuration
Host tunnel-server
    HostName 1.2.3.4
    Port 22
    User root
    DynamicForward 8080

# Usage:
# ssh -D 8080 root@1.2.3.4
# Set browser proxy to SOCKS5 127.0.0.1:8080
```

## ๐ง ูพุงุฑุงูุชุฑูุง CLI

| ูพุงุฑุงูุชุฑ | ุงุฌุจุงุฑ | ุชูุถุญุงุช | ูุซุงู |
|---------|--------|---------|-------|
| `-autodiscover` | โ | ูุนุงูโุณุงุฒ ุญุงูุช auto-discovery | `-autodiscover` |
| `-host` | โ | IP ุง hostname ุณุฑูุฑ | `-host 1.2.3.4` |
| `-user` | โ | ูุงู ฺฉุงุฑุจุฑ SSH | `-user root` |
| `-password` | โ๏ธ | ุฑูุฒ ุนุจูุฑ SSH (ฺฉ ุงุฒ password ุง key ุงูุฒุงู) | `-password mypass` |
| `-key` | โ๏ธ | ูุณุฑ ฺฉูุฏ ุฎุตูุต SSH | `-key ~/.ssh/id_rsa` |
| `-setup-port` | โ | ูพูุฑุช SSH (ูพุดโูุฑุถ: 22) | `-setup-port 2222` |
| `-setup` | โ | ูุตุจ ุฎูุฏฺฉุงุฑ ูพุฑูุชฺฉูโูุง ุจุฑ ุฑู ุณุฑูุฑ | `-setup` |
| `-output` | โ | ุฏุงุฑฺฉุชูุฑ ุฎุฑูุฌ (ูพุดโูุฑุถ: client-configs) | `-output /my/path` |

## ๐ฏ ุณูุงุฑููุง ุงุณุชูุงุฏู

### ุณูุงุฑู 1: ุชุณุช ุณุฑุน ุณุฑูุฑ ุฌุฏุฏ

```bash
# ููุท ุจุฑุฑุณ ูุงุจูุชโูุง ุณุฑูุฑ ุจุฏูู ุชุบุฑ
./ssh-tunnel-manager -autodiscover -host new-server.com -user ubuntu -key ~/.ssh/aws-key.pem
```

### ุณูุงุฑู 2: ุฑุงูโุงูุฏุงุฒ ฺฉุงูู ุณุฑูุฑ VPN

```bash
# ุฑุงูโุงูุฏุงุฒ ฺฉุงูู ุชูุงู ูพุฑูุชฺฉูโูุง
./ssh-tunnel-manager -autodiscover \
  -host my-vps.com \
  -user root \
  -password strongpass123 \
  -setup \
  -output production-configs
```

### ุณูุงุฑู 3: ุงุฌุงุฏ ูุงูโูุง ฺฉุงููฺฏ ุจุฑุง ุชู

```bash
# ุชููุฏ ฺฉุงููฺฏโูุง ุจุฑุง ุงุดุชุฑุงฺฉ ุจุง ุงุนุถุง ุชู
./ssh-tunnel-manager -autodiscover \
  -host team-server.com \
  -user devops \
  -key ~/.ssh/team-key \
  -output team-configs
```

### ุณูุงุฑู 4: Migration ุงุฒ ุณุฑูุฑ ูุฏู

```bash
# ฺฉูพ ฺฉุฑุฏู ุชูุธูุงุช ุงุฒ ุณุฑูุฑ ูุฏู
./ssh-tunnel-manager -autodiscover -host old-server.com -user admin -password oldpass -output migration-backup
```

## ๐ ุนููฺฉุฑุฏ ุชุดุฎุต ุฎูุฏฺฉุงุฑ

### 1. **ุชุดุฎุต ุณุณุชูโุนุงูู:**
- Linux distributions (Ubuntu, CentOS, Debian, Alpine)
- Architecture detection (x86_64, arm64, etc.)

### 2. **ุชุดุฎุต ูุฑูโุงูุฒุงุฑูุง ูุตุจ ุดุฏู:**
- Docker (ุงูฺฉุงู ูุตุจ ูพุฑูุชฺฉูโูุง ูุฎุชูู)
- Nginx (ุงูฺฉุงู reverse proxy)
- XRay/V2Ray (ูพุฑูุชฺฉูโูุง ูพุดุฑูุชู)
- WireGuard (VPN ูุฏุฑู)
- iptables (ูุงุฑูุงู ู routing)

### 3. **ุชุดุฎุต ูพูุฑุชโูุง ุขุฒุงุฏ:**
- ุงุณฺฉู ูพูุฑุชโูุง ูุนููู (8080-8085, 9080-9082, 10080-10081)
- ุชุณุช availability ูุฑ ูพูุฑุช
- ุชุฎุตุต ุฎูุฏฺฉุงุฑ ูพูุฑุช ุจู ูุฑ ูพุฑูุชฺฉู

### 4. **ุชุดุฎุต ูุงุจูุชโูุง ุดุจฺฉู:**
- Network interfaces
- Public/Private IP detection
- Firewall status checking

## โ๏ธ ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ูพุฑูุชฺฉูโูุง

### ๐ณ ูุตุจ ุจุง Docker:
```bash
# V2Ray
docker run -d --name v2ray -p 8080:8080 v2fly/v2fly-core:latest

# Trojan  
docker run -d --name trojan -p 8081:443 trojangfw/trojan:latest

# Hysteria
docker run -d --name hysteria -p 8082:36712/udp tobyxdd/hysteria:latest

# WireGuard
docker run -d --name wireguard --cap-add=NET_ADMIN linuxserver/wireguard:latest
```

### ๐ฆ ูุตุจ ูุณุชูู:
- Package manager detection (apt, yum, apk)
- Automatic dependency installation
- Service configuration and startup

## ๐ ููุงุญุธุงุช ุงููุช

### โ๏ธ ุชูุธูุงุช ุงููุช ููู:
1. **ุชุบุฑ ุฑูุฒูุง auto-generated**
2. **ฺฉุงููฺฏ ูุงุฑูุงู ุณุฑูุฑ**
3. **ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณ ุจุฑ ุงุณุงุณ IP**
4. **ุงุณุชูุงุฏู ุงุฒ SSH keys ุจู ุฌุง password**
5. **ุฑูุฒฺฏุฐุงุฑ ูุงูโูุง ฺฉุงููฺฏ**

### ๐ก๏ธ Best Practices:
```bash
# ุงุณุชูุงุฏู ุงูู ุจุง SSH key
./ssh-tunnel-manager -autodiscover \
  -host secure-server.com \
  -user limited-user \
  -key ~/.ssh/secure-key \
  -output secure-configs

# ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณ
chmod 600 secure-configs/*
```

## ๐ ุงุณุชูุงุฏู ุงุฒ ูุงูโูุง ุชููุฏ ุดุฏู

### 1. ุงุณุชูุงุฏู ูุณุชูู ุจุง SSH Tunnel Manager:
```bash
./ssh-tunnel-manager -config client-configs/ssh-tunnel-manager-config.yaml -server
```

### 2. ุงุณุชูุงุฏู ุจุง ฺฉูุงูุชโูุง V2Ray:
```bash
# V2rayN (Windows)
# Import URL from vless_client.conf

# V2rayNG (Android)  
# Scan QR code generated from config
```

### 3. ุงุณุชูุงุฏู ุจุง Trojan clients:
```bash
trojan -c client-configs/trojan_client.conf
```

### 4. ุงุณุชูุงุฏู ุจุง WireGuard:
```bash
sudo wg-quick up client-configs/wireguard.conf
```

## ๐๏ธ ฺฉุงููฺฏ ูพุดุฑูุชู

### ุชุฑฺฉุจ ุจุง ูุงู ฺฉุงููฺฏ ููุฌูุฏ:

```yaml
# ุงุฏุบุงู ุณุฑูุฑูุง auto-discovered ุจุง ฺฉุงููฺฏ ููุฌูุฏ
version: "1.0"
servers:
  # ุณุฑูุฑูุง ุฏุณุช
  - name: "manual-server"
    host: "manual.example.com"
    # ... ฺฉุงููฺฏ ุฏุณุช
  
  # ุณุฑูุฑูุง auto-discovered (copy ุงุฒ generated config)
  - name: "auto-ssh-1.2.3.4"
    host: "1.2.3.4"
    # ... ฺฉุงููฺฏ auto-generated
```

## ๐ ุจุฑูุฒุฑุณุงู ู Maintenance

### ุจุฑูุฒุฑุณุงู ฺฉุงููฺฏโูุง:
```bash
# ุจุฑูุฒุฑุณุงู ูุฌุฏุฏ ูพุณ ุงุฒ ุชุบุฑุงุช ุณุฑูุฑ
./ssh-tunnel-manager -autodiscover \
  -host updated-server.com \
  -user root \
  -password newpass \
  -output updated-configs
```

### ูพุงฺฉุณุงุฒ ฺฉุงููฺฏโูุง ูุฏู:
```bash
rm -rf old-configs/
```

## ๐ก ูฺฉุงุช ู ุชุฑููุฏูุง

### 1. **ุชุณุช ฺฉุงููฺฏโูุง:**
```bash
# ุชุณุช SSH tunnel
ssh -D 8080 -f -C -q -N root@1.2.3.4

# ุชุณุช HTTP proxy  
curl --proxy http://127.0.0.1:8081 http://httpbin.org/ip
```

### 2. **ูุงูุชูุฑูฺฏ ฺฉุงูฺฉุดูโูุง:**
```bash
# ููุงุด ฺฉุงูฺฉุดูโูุง ูุนุงู
netstat -tulpn | grep 8080

# ูุงูุชูุฑูฺฏ ุชุฑุงูฺฉ
iftop -i tun0
```

### 3. **Performance Tuning:**
```bash
# ุจูููโุณุงุฒ TCP
echo 'net.core.rmem_max = 16777216' >> /etc/sysctl.conf
echo 'net.core.wmem_max = 16777216' >> /etc/sysctl.conf
sysctl -p
```

### 4. **Backup ฺฉุงููฺฏโูุง:**
```bash
tar -czf tunnel-configs-backup.tar.gz client-configs/
```

ุงู ูุงุจูุช Auto-Discovery ุงูฺฉุงู ุฑุงูโุงูุฏุงุฒ ุณุฑุน ู ุขุณุงู ุณุฑูุฑูุง ุชููู ุจุง ุญุฏุงูู ูุฏุงุฎูู ุฏุณุช ุฑุง ูุฑุงูู ูโฺฉูุฏ! ๐ 